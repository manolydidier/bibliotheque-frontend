/* src/media-library/parts/FiltersPanel.css */

/* ===============================
   Design Tokens (CSS variables)
================================= */
:root {
  --fp-bg-glass: rgba(255, 255, 255, .72);
  --fp-bg-glass-strong: rgba(255, 255, 255, .86);
  --fp-outline: 0 0 0 3px rgba(59, 130, 246, .25);
  --fp-shadow-sm: 0 6px 18px rgba(2, 6, 23, .06);
  --fp-shadow-md: 0 10px 28px rgba(2, 6, 23, .09);
  --fp-shadow-lg: 0 18px 40px rgba(2, 6, 23, .12);
  --fp-border: rgba(148, 163, 184, .28);
  --fp-border-strong: rgba(148, 163, 184, .40);
  --fp-ring: rgba(59, 130, 246, .25);
  --fp-soft: rgba(59, 130, 246, .1);
}

@media (prefers-color-scheme: dark) {
  :root {
    --fp-bg-glass: rgba(15, 23, 42, .55);
    --fp-bg-glass-strong: rgba(15, 23, 42, .70);
    --fp-outline: 0 0 0 3px rgba(96, 165, 250, .25);
    --fp-shadow-sm: 0 6px 18px rgba(0, 0, 0, .40);
    --fp-shadow-md: 0 10px 28px rgba(0, 0, 0, .50);
    --fp-shadow-lg: 0 18px 40px rgba(0, 0, 0, .60);
    --fp-border: rgba(148, 163, 184, .28);
    --fp-border-strong: rgba(148, 163, 184, .35);
    --fp-ring: rgba(96, 165, 250, .25);
    --fp-soft: rgba(96, 165, 250, .12);
  }
}

/* ===============================
   Animations (inchangées)
================================= */
@keyframes toast-in { from { opacity: 0; transform: translateY(6px) } to { opacity: 1; transform: translateY(0) } }
@keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
@keyframes scale-in { from { opacity: 0.6; transform: scale(0.98) } to { opacity: 1; transform: scale(1) } }
@keyframes dropdown-in { from { opacity: 0; transform: translateY(-4px) scale(0.98) } to { opacity: 1; transform: translateY(0) scale(1) } }
@keyframes dropdown-out { from { opacity: 1; transform: translateY(0) scale(1) } to { opacity: 0; transform: translateY(-4px) scale(0.98) } }
@keyframes caret-blink { 0%,49% { opacity: 1 } 50%,100% { opacity: 0 } }

/* Bottom-sheet */
@keyframes sheet-in { from { transform: translateY(12px); opacity: .96 } to { transform: translateY(0); opacity: 1 } }

.animate-toast-in      { animation: toast-in 0.24s ease-out both; }
.animate-fade-in       { animation: fade-in 0.16s ease-out both; }
.animate-scale-in      { animation: scale-in 0.18s ease-out both; }
.animate-dropdown-in   { animation: dropdown-in 0.14s ease-out both; }
.animate-dropdown-out  { animation: dropdown-out 0.12s ease-in both; }
.animate-caret-blink   { animation: caret-blink 1s steps(2, start) infinite; }
.animate-sheet-in      { animation: sheet-in .18s ease-out both; }

/* ===============================
   Utilities
================================= */
.no-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Scrollbars élégants (fallback safe) */
.filters-root * {
  scrollbar-color: rgba(100,116,139,.35) transparent;
  scrollbar-width: thin;
}
.filters-root *::-webkit-scrollbar { width: 8px; height: 8px; }
.filters-root *::-webkit-scrollbar-thumb {
  background: rgba(100,116,139,.35);
  border-radius: 8px;
}
.filters-root *::-webkit-scrollbar-thumb:hover {
  background: rgba(100,116,139,.55);
}

/* ===============================
   Header "glass" + transitions globales
================================= */
.filters-root {
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.filters-root > .px-4,
.filters-root > .md\:px-6 {
  background: linear-gradient(
    180deg,
    var(--fp-bg-glass-strong) 0%,
    var(--fp-bg-glass) 60%,
    transparent 100%
  );
}

/* Accent subtil sous la barre d’outils */
.filters-root .border-b {
  box-shadow: inset 0 -1px 0 var(--fp-border);
}

/* ===============================
   Inputs & focus harmonisés
================================= */
.filters-root input[type="search"],
.filters-root input[type="text"],
.filters-root input[type="date"],
.filters-root input[type="number"],
.filters-root select {
  transition: box-shadow .18s ease, transform .18s ease, border-color .18s ease, background-color .18s ease;
  background-color: rgba(255,255,255,.9);
}
@media (prefers-color-scheme: dark) {
  .filters-root input[type="search"],
  .filters-root input[type="text"],
  .filters-root input[type="date"],
  .filters-root input[type="number"],
  .filters-root select {
    background-color: rgba(2,6,23,.6);
  }
}

.filters-root input:focus,
.filters-root select:focus,
.filters-root button:focus-visible {
  outline: none !important;
  box-shadow: var(--fp-outline);
}

/* Placeholder un poil plus doux */
.filters-root input::placeholder {
  opacity: .8;
}

/* ===============================
   Boutons (hover/active subtils)
================================= */
.filters-root button {
  transition: background-color .18s ease, border-color .18s ease, color .18s ease, transform .12s ease, box-shadow .18s ease, opacity .18s ease;
  will-change: transform;
}

.filters-root button:hover {
  filter: brightness(1.02);
}

.filters-root button:active {
  transform: translateY(0) scale(.985);
}

/* Badges (compteur rouge) un peu “liftés” */
.filters-root .bg-red-600.rounded-full {
  box-shadow: 0 2px 6px rgba(220, 38, 38, .35);
}

/* ===============================
   Cards & sections
================================= */
.filters-root section.rounded-2xl {
  box-shadow: var(--fp-shadow-sm);
  border-color: var(--fp-border-strong) !important;
}
.filters-root section.rounded-2xl:hover {
  box-shadow: var(--fp-shadow-md);
}

/* ===============================
   Pills & Chips (états actifs)
================================= */
/* Pills quand expanded */
.filters-root button[aria-expanded="true"] {
  box-shadow: 0 0 0 2px var(--fp-soft) inset;
}

/* Chips actives */
.filters-root button[aria-pressed="true"] {
  box-shadow: 0 0 0 2px rgba(255,255,255,.15) inset, var(--fp-shadow-sm);
}

/* ===============================
   Dropdown (recherches récentes)
================================= */
.filters-root .animate-\[dropdown-in_\.14s_ease-out\] {
  box-shadow: var(--fp-shadow-md);
  border-color: var(--fp-border);
}
.filters-root .animate-\[dropdown-in_\.14s_ease-out\] .border-b {
  border-color: var(--fp-border) !important;
}

/* ===============================
   Toasts
================================= */
.filters-root .fixed.right-4 {
  filter: drop-shadow(0 8px 18px rgba(2, 6, 23, .12));
}

/* ===============================
   Bottom Sheet (Mobile)
================================= */
.filters-root [role="dialog"].fixed.inset-x-0.bottom-0 {
  border-top: 1px solid var(--fp-border-strong);
  box-shadow: var(--fp-shadow-lg);
  background:
    linear-gradient(180deg, rgba(255,255,255,.85) 0%, rgba(255,255,255,1) 24%) /* light */,
    linear-gradient(180deg, rgba(15,23,42,.6) 0%, rgba(15,23,42,.75) 24%);     /* dark overlay */
  background-blend-mode: normal;
}
@media (prefers-color-scheme: dark) {
  .filters-root [role="dialog"].fixed.inset-x-0.bottom-0 {
    background:
      linear-gradient(180deg, rgba(15,23,42,.6) 0%, rgba(15,23,42,.75) 24%);
  }
}

/* Grip */
.filters-root .h-1\.5.w-10.rounded-full.bg-slate-200 {
  background: linear-gradient(90deg, rgba(148,163,184,.55), rgba(148,163,184,.25));
}

/* Contenu scrollable : inertie propre, pas d'overscroll moche */
.filters-root .min-h-0.overflow-y-auto {
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}

/* Footer sticky avec bordure interne plus nette */
.filters-root .sticky.bottom-0.bg-white.border-t {
  border-top-color: var(--fp-border-strong) !important;
  background: var(--fp-bg-glass-strong);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* ===============================
   Sélecteurs d’accessibilité
================================= */
.filters-root .sr-only:focus + * {
  box-shadow: var(--fp-outline);
}

/* ===============================
   Réduction des animations (A11y)
================================= */
@media (prefers-reduced-motion: reduce) {
  .animate-toast-in,
  .animate-fade-in,
  .animate-scale-in,
  .animate-dropdown-in,
  .animate-dropdown-out,
  .animate-sheet-in {
    animation: none !important;
  }
  .filters-root button,
  .filters-root input,
  .filters-root select {
    transition: none !important;
  }
}
/* Le caret blink reste soft et se coupe sur mobile */
@media (max-width: 1024px) {
  .animate-caret-blink { animation: none !important; }
}

/* (optionnel) Légère transparence pour le caret desktop */
@keyframes caret-blink { 0%,49% { opacity: .85 } 50%,100% { opacity: 0 } }
/* Blink du caret dans le hint */
@keyframes caret-blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}
.animate-caret-blink {
  animation: caret-blink 1s steps(1) infinite;
}

/* Entrée des toasts */
@keyframes toast-in {
  from { transform: translateY(8px); opacity: 0; }
  to   { transform: translateY(0);   opacity: 1; }
}
.animate-\[toast-in_240ms_ease-out\] {
  animation: toast-in 240ms ease-out both;
}

/* Barre de progression des toasts */
@keyframes toastbar {
  from { transform: translateX(0%); }
  to   { transform: translateX(-100%); }
}
.animate-\[toastbar_1\.8s_linear\] {
  animation: toastbar 1.8s linear forwards;
}

/* Dropdown rapide */
@keyframes dropdown-in {
  from { transform: translateY(-4px); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}
.animate-\[dropdown-in_.14s_ease-out\] {
  animation: dropdown-in .14s ease-out both;
}

/* Bottom-sheet mobile */
@keyframes sheet-in {
  from { transform: translateY(12px); opacity: .98; }
  to   { transform: translateY(0); opacity: 1; }
}
.animate-sheet-in {
  animation: sheet-in .18s ease-out both;
}

/* Petites aides utilitaires si besoin */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
