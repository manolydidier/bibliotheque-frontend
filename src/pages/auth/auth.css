/* src/pages/auth/auth.css ‚Äî Version modernis√©e (compl√®te) ‚Äî floating-btn intacte */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-feature-settings: 'cv11', 'ss01';
  font-variation-settings: 'opsz' 32;
}

:root{
  /* Couleurs principales */
  --primary-900:#1e3a8a; --primary-800:#1e40af; --primary-700:#1d4ed8;
  --primary-600:#2563eb; --primary-500:#3b82f6; --primary-400:#60a5fa;
  --primary-300:#93c5fd; --primary-200:#bfdbfe; --primary-100:#dbeafe; --primary-50:#eff6ff;

  /* Erreur */
  --error-900:#7f1d1d; --error-800:#991b1b; --error-700:#b91c1c;
  --error-600:#dc2626; --error-500:#ef4444; --error-400:#f87171;
  --error-300:#fca5a5; --error-200:#fecaca; --error-100:#fee2e2; --error-50:#fef2f2;

  /* Succ√®s */
  --success-900:#14532d; --success-800:#166534; --success-700:#15803d;
  --success-600:#16a34a; --success-500:#22c55e; --success-400:#4ade80;
  --success-300:#86efac; --success-200:#bbf7d0; --success-100:#dcfce7; --success-50:#f0fdf4;

  /* Avertissement */
  --warning-900:#92400e; --warning-800:#9a3412; --warning-700:#c2410c;
  --warning-600:#ea580c; --warning-500:#f97316; --warning-400:#fb923c;
  --warning-300:#fdba74; --warning-200:#fed7aa; --warning-100:#ffedd5; --warning-50:#fff7ed;

  /* Info */
  --info-900:#0c4a6e; --info-800:#075985; --info-700:#0369a1;
  --info-600:#0284c7; --info-500:#0ea5e9; --info-400:#38bdf8;
  --info-300:#7dd3fc; --info-200:#bae6fd; --info-100:#e0f2fe; --info-50:#f0f9ff;

  /* Neutres */
  --gray-900:#111827; --gray-800:#1f2937; --gray-700:#374151; --gray-600:#4b5563;
  --gray-500:#6b7280; --gray-400:#9ca3af; --gray-300:#d1d5db; --gray-200:#e5e7eb;
  --gray-100:#f3f4f6; --gray-50:#f9fafb;

  --white:#fff; --text-dark:var(--gray-900); --muted:var(--gray-500);

  /* Ombres */
  --shadow-xs:0 1px 2px rgba(0,0,0,.05);
  --shadow-sm:0 1px 3px rgba(0,0,0,.1), 0 1px 2px -1px rgba(0,0,0,.1);
  --shadow-md:0 4px 6px -1px rgba(0,0,0,.1), 0 2px 4px -2px rgba(0,0,0,.1);
  --shadow-lg:0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -4px rgba(0,0,0,.1);
  --shadow-xl:0 20px 25px -5px rgba(0,0,0,.1), 0 8px 10px -6px rgba(0,0,0,.1);
  --shadow-2xl:0 25px 50px -12px rgba(0,0,0,.25);

  /* Rayons + motions */
  --radius-sm:.375rem; --radius:.5rem; --radius-md:.625rem; --radius-lg:.75rem;
  --radius-xl:1rem; --radius-2xl:1.5rem;
  --transition:all .2s cubic-bezier(.4,0,.2,1);
  --bounce:all .35s cubic-bezier(.68,-.55,.265,1.55);
}

/* Fond d√©grad√© */
.bg-bleu-pale{ background-attachment:fixed; position:relative; }
.bg-bleu-pale::before{
  content:''; position:fixed; inset:0;
  background:
    radial-gradient(circle at 20% 50%, rgba(120,119,198,.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255,255,255,.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 80%, rgba(120,119,198,.2) 0%, transparent 50%);
  pointer-events:none;
}

/* Carte (par d√©faut) */
.auth-container.card{
  position:relative; width:100%; max-width:520px; min-height:600px;
  margin:2rem auto; background:rgba(255,255,255,.95);
  backdrop-filter:blur(20px); border:1px solid rgba(255,255,255,.2);
  border-radius:var(--radius-2xl); box-shadow:var(--shadow-2xl);
  padding:2.5rem 2rem; overflow:visible; z-index:1;
}

/* Variante plate (NE TOUCHE PAS √† .floating-btn -> pas d'overflow hidden) */
.auth-container.card.flat{
  --card-radius: 24px;
  --loader-inset: max(10px, calc(var(--card-radius) - 8px));
  max-width:980px; padding:0; background:var(--white);
  border:1px solid var(--gray-200); box-shadow:none; backdrop-filter:none;
  position:relative; isolation:isolate;
  border-radius: var(--card-radius);
  overflow: visible; /* important pour que la floating-btn puisse d√©border */
}

/* Anneau gradient subtil */
.auth-container.card.flat::before{
  content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px;
  background:conic-gradient(from 180deg,#60a5fa,#3b82f6 25%,#60a5fa 50%,#93c5fd 75%,#60a5fa);
  opacity:.25; z-index:-1;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
}

/* Barre top loading quand form busy ‚Äî arr√™t avant les coins arrondis */
.auth-container.card.flat:has(form[aria-busy="true"])::after{
  content:""; position:absolute; top:0; height:3px;
  left: var(--loader-inset); right: var(--loader-inset);
  background:linear-gradient(90deg, transparent, rgba(59,130,246,.75), transparent);
  background-size:240px 100%; animation:topLoader .9s ease-in-out infinite;
  border-radius:999px; pointer-events:none; z-index:3;
}
@keyframes topLoader{ from{background-position-x:-240px} to{background-position-x:240px} }

/* Pages */
.auth-page{ display:block; opacity:0; transform:translateY(20px);
  transition:opacity .4s cubic-bezier(.4,0,.2,1), transform .4s cubic-bezier(.4,0,.2,1);
}
.auth-page.hidden{ display:none; }
.auth-page.active{ opacity:1; transform:none; }

/* Layout 2 colonnes */
.auth-layout{
  display:grid; min-height:640px; border-radius:24px; overflow:hidden;
  background:var(--card-bg,#fff); box-shadow:0 12px 32px rgba(0,0,0,.08);
}
.auth-layout--media-left{  grid-template-columns:.85fr 1.15fr; }
.auth-layout--media-right{ grid-template-columns:1.15fr .85fr; }
.auth-form{ padding:2.5rem 2rem; background:rgba(255,255,255,.97); }

/* === MEDIA === */
.auth-media{
  position:relative; overflow:hidden; background:#0b1220; isolation:isolate;
  transform-style:preserve-3d; will-change:transform; transition:transform .25s ease;
}
.auth-media::before{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.45));
  z-index:1; pointer-events:none;
}
.auth-media::after{
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(60% 80% at 20% 20%, rgba(255,255,255,.08), transparent),
    radial-gradient(50% 60% at 80% 70%, rgba(59,130,246,.20), transparent);
  mix-blend-mode:screen; pointer-events:none;
}
.auth-media-img{
  width:100%; height:100%; object-fit:cover; display:block; padding:0;
  filter:saturate(1.02) contrast(1.02); transform:scale(1.02);
}
.auth-media-overlay{
  position:absolute; inset:auto 1.25rem 1.25rem 1.25rem;
  z-index:2; color:#fff; text-shadow:0 2px 4px rgba(0,0,0,.25);
  display:grid; gap:.6rem;
}
.media-pills{ display:flex; flex-wrap:wrap; gap:.4rem .5rem; }
.media-pill{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.32rem .6rem; font-size:.78rem; letter-spacing:.02em;
  border-radius:999px; border:1px solid rgba(255,255,255,.25);
  background:rgba(255,255,255,.08); backdrop-filter: blur(4px);
}
.media-title{ margin:.15rem 0 0; font-weight:800; font-size:1.3rem; }
.media-sub{ margin:0; opacity:.95; font-size:.95rem; }
.media-list{ margin:.35rem 0 0; padding:0; list-style:none; display:grid; gap:.25rem; }
.media-list li{ font-size:.9rem; opacity:.95; position:relative; padding-left:1rem; }
.media-list li::before{ content:"‚Ä¢"; position:absolute; left:0; top:0; color:#93c5fd; line-height:1; }
.media-hint{
  margin-top:.4rem; font-size:.85rem; opacity:.95;
  padding:.5rem .65rem; border-radius:.6rem;
  background:rgba(15,23,42,.55); border:1px solid rgba(255,255,255,.12);
}
.media-blob{ position:absolute; filter: blur(28px); opacity:.35; z-index:0; }
.media-blob.b1{ width:220px; height:220px; left:-40px; top:-30px; background:radial-gradient(circle,#60a5fa,transparent 70%); }
.media-blob.b2{ width:260px; height:260px; right:-60px; bottom:-40px; background:radial-gradient(circle,#a78bfa,transparent 70%); }

/* Fallback */
.auth-media-fallback{ position:absolute; inset:0; display:grid; place-content:center; gap:1rem; text-align:center; color:#e5e7eb; padding:2rem; z-index:2; }
.auth-media-fallback .badge{
  display:inline-block; font-size:.75rem; letter-spacing:.08em;
  padding:.35rem .6rem; border:1px solid rgba(255,255,255,.25); border-radius:999px; color:#fff; opacity:.9;
}

/* Image de fond */
.auth-page.login .auth-media {
  background-image:
    linear-gradient(rgba(11,18,32,.35), rgba(11,18,32,.35)),
    url("https://images.unsplash.com/photo-1519682577862-22b62b24e493?q=80&w=1920&auto=format&fit=crop");
  background-size:cover!important; background-position:center!important; background-repeat:no-repeat!important;
}
.auth-page.register .auth-media {
  background-image:
    linear-gradient(rgba(11,18,32,.35), rgba(11,18,32,.35)),
    url("https://images.unsplash.com/photo-1464983953574-0892a716854b?q=80&w=1920&auto=format&fit=crop");
  background-size:cover!important; background-position:center!important; background-repeat:no-repeat!important;
}

/* Parallaxe l√©g√®re */
.auth-media .auth-media-overlay{ transform:translateZ(24px); }
.auth-media .auth-media-fallback{ transform:translateZ(16px); }

/* Coins externes accentu√©s */
.auth-layout--media-left  .auth-media{ border-top-left-radius:24px;  border-bottom-left-radius:24px; }
.auth-layout--media-right .auth-media{ border-top-right-radius:24px; border-bottom-right-radius:24px; }

/* Animations slide */
@keyframes slideInLeft{  from{opacity:0; transform:translateX(-24px)} to{opacity:1; transform:none} }
@keyframes slideInRight{ from{opacity:0; transform:translateX( 24px)} to{opacity:1; transform:none} }
.auth-page.slide-left.active{  animation:slideInLeft .45s ease both; }
.auth-page.slide-right.active{ animation:slideInRight .45s ease both; }

/* Responsive 1 colonne */
@media (max-width:1024px){
  .auth-container.card.flat{ max-width:600px; }
  .auth-layout--media-left, .auth-layout--media-right{ grid-template-columns:1fr; }
  .auth-media{ display:none; }
  .auth-form{ padding:2rem 1.5rem; }
}
@media (max-width:640px){
  .auth-container.card{ margin:1rem; padding:2rem 1.5rem; }
  .form-title{ font-size:2rem; }
  .auth-layout{ border-radius:14px; }
}

/* En-t√™tes */
.form-header{ text-align:center; margin-bottom:2rem; }
.form-title{
  font-size:2.25rem; font-weight:800;
  background:linear-gradient(135deg,var(--primary-600),var(--primary-800));
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  letter-spacing:-.02em; margin-bottom:.5rem;
}
.form-subtitle{ color:var(--gray-600); font-size:1.125rem; font-weight:400; }

/* Progress bar */
.form-progress{ height:6px; background:var(--gray-100); border-radius:999px; overflow:hidden; margin-top:.75rem; position:relative; }
.form-progress>span{ position:absolute; inset:0 auto 0 0; width:var(--p,0%); background:linear-gradient(90deg,var(--primary-400),var(--primary-600)); transition:width .35s ease; }

/* Notice API */
.api-notice{
  padding:1rem 1.25rem; border-radius:var(--radius-lg); border:1px solid var(--info-200);
  margin:1rem 0 1.5rem; font-size:.95rem; background:var(--info-50); color:var(--info-800);
  display:flex; align-items:flex-start; gap:.75rem; animation:slideInFromTop .4s ease-out;
}
.api-notice::before{ content:"‚ÑπÔ∏è"; font-size:1.125rem; flex-shrink:0; margin-top:.125rem; }

/* Grilles */
.form-grid{ display:grid; grid-template-columns:1fr; gap:1.25rem; }
.space-y-6>*+*{ margin-top:1.5rem; }
.two-cols{ display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
@media (max-width:640px){ .two-cols{ grid-template-columns:1fr; gap:1.25rem; } }

/* Inputs */
.input-group{ position:relative; margin-bottom:.5rem; }
.input-group input{
  width:100%; height:3.5rem; padding:1.25rem 3.5rem 1.25rem 1.25rem;
  border:2px solid var(--gray-200); background:var(--white); border-radius:var(--radius-xl);
  font-size:1rem; color:var(--gray-900); transition:var(--transition); box-shadow:var(--shadow-xs);
}
.input-group input::placeholder{ color:transparent; }
.input-group input:focus{
  outline:none; border-color:var(--primary-500); background:var(--white);
  box-shadow:0 0 0 4px rgba(59,130,246,.1), var(--shadow-sm); transform:translateY(-1px);
}

/* Champs login vraiment larges (pas de width fixe) */
.authlogin input{ width:100%; }

/* Confort lorsque image + formulaire coexistent */
@media (max-width:1025px){
  .authlogin input{ width:100%; }
  .auth-layout--media-left{  display:flex; }
  .auth-layout--media-right{ display:flex; }
}

/* √âtats */
.input-group input.invalid{
  border-color:var(--error-500); background:var(--error-50); box-shadow:0 0 0 4px rgba(239,68,68,.1);
}
.input-group input.invalid:focus{ border-color:var(--error-500); box-shadow:0 0 0 4px rgba(239,68,68,.15), var(--shadow-sm); }

/* Labels flottants */
.input-group label{
  position:absolute; left:1.25rem; top:50%; transform:translateY(-50%);
  color:var(--gray-500); background:var(--white); padding:0 .5rem;
  transition:var(--bounce); transform-origin:left center; pointer-events:none; font-weight:500; font-size:1rem; letter-spacing:.005em;
}
.input-group input:focus+label,
.input-group input:not(:placeholder-shown)+label{
  top:0; transform:translateY(-50%) scale(.85); color:var(--primary-600); font-weight:600;
}
.input-group input.invalid:focus+label,
.input-group input.invalid:not(:placeholder-shown)+label{ color:var(--error-600); }

/* Ic√¥nes d‚Äôentr√©e + coche */
.input-group.has-icon input{ padding-left:3rem; }
.input-group .input-icon{
  position:absolute; left:.9rem; top:50%; transform:translateY(-50%);
  width:1.25rem; height:1.25rem; display:grid; place-items:center; color:var(--gray-400);
}
.input-group .right-mark{
  position:absolute; right:3rem; top:50%; transform:translateY(-50%) scale(.9);
  opacity:0; transition:var(--transition); color:var(--success-600); font-size:1rem;
}
.input-group input.valid ~ .right-mark{ opacity:1; transform:translateY(-50%) scale(1); }

/* Bouton ≈ìil (NE PAS MODIFIER .floating-btn) */
.password-toggle{
  position:absolute; right:1rem; top:50%; transform:translateY(-50%);
  border:0; background:none; color:var(--gray-400); width:2.5rem; height:2.5rem;
  display:grid; place-items:center; cursor:pointer; border-radius:var(--radius-lg); transition:var(--transition);
}
.password-toggle:hover{ background:var(--gray-100); color:var(--gray-600); transform:translateY(-50%) scale(1.05); }

/* Popups */
.field-pop.error{
  display:flex; align-items:flex-start; gap:.625rem; position:absolute; left:0; right:0; top:calc(100% + .5rem);
  background:var(--error-50); color:var(--error-700); border:1px solid var(--error-200);
  border-radius:var(--radius-lg); padding:.875rem 1rem; font-size:.875rem; font-weight:500; box-shadow:var(--shadow-md); z-index:10;
  animation:slideInFromTop .3s ease-out;
}
.field-pop.error::before{ content:"‚ö†Ô∏è"; font-size:1rem; flex-shrink:0; margin-top:.125rem; }
.field-pop.error::after{
  content:""; position:absolute; top:-6px; left:1.5rem; width:12px; height:12px; background:var(--error-50);
  border:1px solid var(--error-200); border-right:none; border-bottom:none; transform:rotate(45deg);
}
.field-pop.info{
  position:absolute; background:var(--white); border:1px solid var(--gray-200);
  border-radius:var(--radius-lg); padding:1rem; font-size:.875rem; box-shadow:var(--shadow-lg); z-index:10;
  color:var(--gray-700); animation:slideInFromTop .3s ease-out;
}
.field-pop.hint{
  display:flex; align-items:flex-start; gap:.625rem; position:absolute; background:var(--info-50); color:var(--info-800);
  border:1px solid var(--info-200); border-radius:var(--radius-lg); padding:.875rem 1rem; font-size:.875rem; font-weight:500;
  box-shadow:var(--shadow-md); z-index:10; animation:slideInFromTop .3s ease-out;
}
.field-pop.hint::before{ content:"üí°"; font-size:1rem; flex-shrink:0; margin-top:.125rem; }
.field-pop.bottom{ top:calc(100% + .5rem); left:0; right:0; }
.field-pop.right{ left:calc(100% + 1rem); right:auto; top:0; width:280px; max-width:280px; }
.field-pop.right::after{ left:-6px; top:1.5rem; border-top:none; border-left:none; background:inherit; }
@media (max-width:780px){
  .field-pop.right{ position:static; transform:none; width:100%; max-width:100%; margin-top:.5rem; }
  .field-pop.right::after{ display:none; }
}

/* Inline error */
.inline-error{
  display:flex; align-items:flex-start; gap:.5rem; margin-top:.5rem; padding:.75rem 1rem; font-size:.875rem;
  color:var(--error-700); background:var(--error-50); border:1px solid var(--error-200); border-radius:var(--radius-lg);
  font-weight:500; animation:slideInFromTop .3s ease-out;
}
.inline-error::before{ content:"‚ö†Ô∏è"; font-size:1rem; flex-shrink:0; margin-top:.125rem; }

/* Strength password */
.strength{ margin-top:.75rem; }
.bars{ display:flex; gap:.375rem; margin-bottom:.5rem; }
.bar{ flex:1; height:.375rem; background:var(--gray-200); border-radius:var(--radius-sm); transition:var(--transition); transform:scaleY(.9); transform-origin:center; }
.bar.on-1{ background:var(--error-500); } .bar.on-2{ background:var(--warning-500); }
.bar.on-3{ background:var(--info-500); }  .bar.on-4{ background:var(--success-500); }
.bar.on-1,.bar.on-2,.bar.on-3,.bar.on-4{ transform:scaleY(1); transition:transform .25s ease, background-color .25s ease; }
.strength-label{ font-size:.875rem; font-weight:600; transition:var(--transition); }
.strength-label.s-0{ color:var(--gray-500); } .strength-label.s-1{ color:var(--error-600); }
.strength-label.s-2{ color:var(--warning-600); } .strength-label.s-3{ color:var(--info-600); }
.strength-label.s-4{ color:var(--success-600); }
.pw-hints{ margin:.75rem 0 0; list-style:none; padding-left:1.25rem; }
.pw-hints li{ font-size:.875rem; color:var(--gray-600); margin-bottom:.25rem; position:relative; transition:var(--transition); }
.pw-hints li::before{ content:"‚óã"; position:absolute; left:-1.25rem; color:var(--gray-400); transition:var(--transition); }
.pw-hints li.ok{ color:var(--success-700); font-weight:500; }
.pw-hints li.ok::before{ content:"‚úì"; color:var(--success-500); }

/* Spinner */
.mini-spinner{ width:1rem; height:1rem; border-radius:50%; border:2px solid var(--gray-200); border-top-color:var(--primary-500); animation:spin .8s linear infinite; }
@keyframes spin{ to{ transform:rotate(360deg); } }
.hint-row{ display:inline-flex; align-items:center; gap:.5rem; }

/* Bouton flottant (switch) ‚Äî NON MODIFI√â */
.floating-btn{
  position:absolute; top:-1.5rem; right:1.5rem;
  background:linear-gradient(135deg,var(--primary-500),var(--primary-600));
  color:var(--white); width:3.5rem; height:3.5rem; border-radius:50%; display:grid; place-items:center;
  cursor:pointer; z-index:99999; border:none; box-shadow:var(--shadow-lg); transition:var(--transition); animation:float 3s ease-in-out infinite;
}
.floating-btn:hover{ background:linear-gradient(135deg,var(--primary-600),var(--primary-700)); box-shadow:var(--shadow-xl); transform:translateY(-2px) scale(1.05); }
@keyframes float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }

/* Boutons */
.submit-btn{
  width:100%; padding:1rem 1.5rem; background:linear-gradient(135deg,var(--primary-500),var(--primary-600));
  color:var(--white); border:none; border-radius:var(--radius-xl); font-weight:700; font-size:1.125rem;
  letter-spacing:.025em; transition:var(--transition); margin-top:1rem; box-shadow:var(--shadow-md); position:relative; overflow:hidden;
}
.submit-btn::before{
  content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent); transition:left .5s;
}
.submit-btn:hover::before{ left:100%; }
.submit-btn:hover{ background:linear-gradient(135deg,var(--primary-600),var(--primary-700)); box-shadow:var(--shadow-lg); transform:translateY(-2px); }
.submit-btn:active{ transform:translateY(0) scale(.99); box-shadow:var(--shadow-sm); filter:saturate(1.05); }
.submit-btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; }
.google-btn{
  display:flex; align-items:center; justify-content:center; width:100%; padding:1rem 1.5rem; gap:.75rem;
  background:var(--white); border:2px solid var(--gray-200); border-radius:var(--radius-xl); color:var(--gray-700);
  font-weight:600; font-size:1rem; transition:var(--transition); box-shadow:var(--shadow-sm);
}
.google-btn:hover{ background:var(--gray-50); box-shadow:var(--shadow-md); transform:translateY(-1px); border-color:var(--gray-300); }
.google-btn:active{ transform:translateY(0) scale(.99); }

/* S√©parateur + liens */
.or-line{ display:flex; align-items:center; gap:1rem; margin:1.5rem 0; color:var(--gray-500); font-weight:500; }
.or-line::before,.or-line::after{ content:""; flex:1; height:1px; background:var(--gray-300); }
.switch-ask{ margin-top:1.5rem; text-align:center; color:var(--gray-600); font-size:1rem; }
.link-strong,.link{ color:var(--primary-500); background:transparent; border:none; cursor:pointer; font-weight:600; transition:var(--transition); }
.link-strong:hover,.link:hover{ color:var(--primary-600); text-decoration:underline; }

/* Checkbox */
.checkbox{ display:inline-flex; align-items:center; gap:.75rem; color:var(--gray-700); font-weight:500; }
.checkbox input[type="checkbox"]{
  appearance:none; width:1.25rem; height:1.25rem; border:2px solid var(--gray-300);
  border-radius:var(--radius-sm); position:relative; cursor:pointer; transition:var(--transition); background:var(--white);
}
.checkbox input[type="checkbox"]:checked{ background:var(--primary-500); border-color:var(--primary-500); }
.checkbox input[type="checkbox"]:checked::before{
  content:"‚úì"; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:var(--white); font-size:.875rem; font-weight:bold;
}
.checkbox input[type="checkbox"]:focus{ outline:none; box-shadow:0 0 0 4px rgba(59,130,246,.1); }
.checkbox span{ cursor:pointer; user-select:none; }

/* Blocs sp√©ciaux */
.terms-block{ margin:1.5rem 0; padding:1rem; background:var(--gray-50); border-radius:var(--radius-lg); border:1px solid var(--gray-200); }

/* Helpers */
.helper-text.warning{
  display:inline-flex; align-items:center; gap:.5rem; color:var(--warning-600); font-size:.875rem; font-weight:500;
  margin-bottom:.5rem; padding:.5rem .75rem; background:var(--warning-50); border:1px solid var(--warning-200); border-radius:var(--radius-md);
}
.helper-text.warning::before{ content:"‚ö†Ô∏è"; font-size:1rem; }
@keyframes slideInFromTop{ from{opacity:0; transform:translateY(-10px)} to{opacity:1; transform:translateY(0)} }

/* Autofill propre */
input:-webkit-autofill{
  transition:background-color 9999s ease-in-out 0s;
  -webkit-text-fill-color:var(--gray-900);
  box-shadow:0 0 0 1000px var(--white) inset !important;
}

/* Petits √©crans : popups non positionn√©s en absolu */
@media (max-width:480px){
  .field-pop{ position:static; margin-top:.5rem; }
  .field-pop::after{ display:none; }
  .submit-btn.sticky{
    position:sticky; bottom:calc(env(safe-area-inset-bottom,8px) + 8px); z-index:5;
    box-shadow:0 10px 24px -12px rgba(0,0,0,.35);
  }
  .auth-form{ padding-bottom:5rem; }
}

/* Shake erreurs */
@keyframes shakeX{
  0%,100%{transform:translateX(0)} 20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)}
}
.auth-form.shake{ animation:shakeX .35s ease; }

/* Suggestion username + compteur */
.suggest-pill{
  position:absolute; right:.5rem; top:.5rem; font-size:.78rem; padding:.25rem .5rem; border-radius:999px;
  background:var(--gray-100); border:1px solid var(--gray-200); color:var(--gray-700);
  cursor:pointer; transition:var(--transition);
}
.suggest-pill:hover{ background:var(--gray-50); color:var(--gray-900); }
.char-counter{ position:absolute; right:.75rem; bottom:-1.25rem; font-size:.75rem; color:var(--gray-500); }

/* Image fade-in */
.img-fade{ opacity:0; transform:translateY(6px); transition:opacity .35s ease, transform .35s ease; }
.img-fade[style], .auth-media-img.img-fade{ opacity:1; transform:none; }

/* Modals */
.modal-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.5);
  display:flex; align-items:center; justify-content:center; z-index:9999;
}
.modal-card{
  background:#fff; border-radius:12px; width:100%; max-width:420px; padding:24px; box-shadow:0 20px 60px rgba(0,0,0,.25);
}
.modal-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.modal-close{ border:none; background:transparent; font-size:20px; line-height:1; cursor:pointer; }

/* Sp√©cifiques pages */
.auth-page.login .auth-layout.auth-layout--media-left{  grid-template-columns:1fr 1fr; }
.auth-page.login .auth-form{ max-width:560px; margin-inline:auto; }

.auth-page.register .auth-layout.auth-layout--media-right{ grid-template-columns:1.30fr 1fr !important; }
.auth-page.register .auth-form{ max-width:760px !important; }
.auth-page.register .input-group input{ height:4.1rem !important; font-size:1.05rem !important; }

/* Responsive confort media */
@media (min-width:1280px){
  .auth-media-overlay{ inset:auto 1.75rem 1.75rem 1.75rem; }
}

/* Loader inset pour petits √©crans + rayon plus petit */
@media (max-width:640px){
  .auth-container.card.flat{ --loader-inset: 12px; --card-radius: 14px; }
}


/* ===================== Desktop Scene Background (scop√© √† AuthPage) ===================== */
/* S'active seulement quand <body> a la classe .auth-scene (ajout√©e/retir√©e par AuthPage.jsx) */
@media (min-width: 1025px) {

  /* 1) Couche de base : mesh gradient doux et clair (blue/light) */
  body.auth-scene {
    background:
      radial-gradient(1200px 800px at 15% 20%, rgba(96,165,250,.16), transparent 60%),
      radial-gradient(900px 700px at 85% 30%, rgba(168,85,247,.10), transparent 60%),
      radial-gradient(1000px 900px at 50% 90%, rgba(59,130,246,.10), transparent 65%),
      linear-gradient(180deg, #f9fbff, #eef4ff 40%, #f9fbff);
    position: relative;
    overflow-x: clip;
    color-scheme: light;
  }

  /* Vignette tr√®s subtile pour focus central */
  body.auth-scene::before {
    content: "";
    position: fixed; inset: 0; pointer-events: none;
    background:
      radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.45), transparent 60%),
      radial-gradient(1200px 600px at 50% 110%, rgba(255,255,255,.45), transparent 60%),
      radial-gradient(1400px 900px at -10% 50%, rgba(255,255,255,.28), transparent 60%),
      radial-gradient(1400px 900px at 110% 50%, rgba(255,255,255,.28), transparent 60%),
      radial-gradient(80% 80% at 50% 50%, transparent 62%, rgba(15,23,42,.05) 100%);
    z-index: 0;
  }

  /* 2) Grain ultra l√©ger (√©clairci) */
  body.auth-scene::after {
    content: "";
    position: fixed; inset: -10%;
    pointer-events: none; z-index: 0;
    opacity: .04; mix-blend-mode: multiply;
    background-image:
      url("data:image/svg+xml;utf8,\<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'>\<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter>\<rect width='140' height='140' filter='url(%23n)' opacity='0.22'/>\</svg>");
    background-size: 300px 300px;
    will-change: transform;
    animation: bgDrift 30s linear infinite alternate;
  }

  .bg-grid {
    position: fixed; inset: 0; z-index: 0; pointer-events: none;
    background-image:
      linear-gradient(to right, rgba(15,23,42,.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(15,23,42,.05) 1px, transparent 1px);
    background-size: 44px 44px;
    mask-image: radial-gradient(62% 62% at 50% 50%, #000 40%, transparent 100%);
  }

  /* Blobs parallaxe clairs */
  .bg-blob {
    position: fixed; border-radius: 9999px; filter: blur(28px);
    opacity: .18; z-index: 0; pointer-events: none; will-change: transform;
    transform: translateZ(0);
  }
  .bg-blob.b1 { width: 540px; height: 540px; left: -120px; top: -80px;
    background: radial-gradient(circle at 40% 40%, #60a5fa, transparent 70%);
    animation: blobFloat1 26s ease-in-out infinite alternate;
  }
  .bg-blob.b2 { width: 640px; height: 640px; right: -150px; top: 10%;
    background: radial-gradient(circle at 60% 60%, #a78bfa, transparent 70%);
    animation: blobFloat2 32s ease-in-out infinite alternate;
  }
  .bg-blob.b3 { width: 520px; height: 520px; left: 10%; bottom: -180px;
    background: radial-gradient(circle at 50% 60%, #93c5fd, transparent 70%);
    animation: blobFloat3 28s ease-in-out infinite alternate;
  }

  /* Spotlight (halo souris) ‚Äî clair et discret */
  .bg-spotlight {
    position: fixed; inset: 0; pointer-events: none; z-index: 0;
    background: radial-gradient(420px 420px at var(--mx, 50%) var(--my, 30%),
                rgba(255,255,255,.26), transparent 72%);
    transition: all .08s linear;
  }

  @media (prefers-color-scheme: dark) {
    body.auth-scene {
      background:
        radial-gradient(1200px 800px at 15% 20%, rgba(96,165,250,.20), transparent 60%),
        radial-gradient(900px 700px at 85% 30%, rgba(168,85,247,.20), transparent 60%),
        radial-gradient(1000px 900px at 50% 90%, rgba(59,130,246,.18), transparent 65%),
        linear-gradient(180deg, #0b1220, #0f172a 40%, #0b1220);
    }
    body.auth-scene::before {
      background:
        radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(1200px 600px at 50% 110%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(1400px 900px at -10% 50%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(1400px 900px at 110% 50%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(80% 80% at 50% 50%, transparent 60%, rgba(0,0,0,.38) 100%);
    }
    .bg-grid {
      background-image:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    body.auth-scene::after { animation: none; }
    .bg-blob.b1, .bg-blob.b2, .bg-blob.b3 { animation: none; }
  }

  @keyframes bgDrift { from { transform: translate3d(-2%, -2%, 0); } to { transform: translate3d(2%, 2%, 0); } }
  @keyframes blobFloat1 { from { transform: translate3d(0,0,0); } to { transform: translate3d(20px, 40px, 0); } }
  @keyframes blobFloat2 { from { transform: translate3d(0,0,0); } to { transform: translate3d(-30px, 30px, 0); } }
  @keyframes blobFloat3 { from { transform: translate3d(0,0,0); } to { transform: translate3d(25px, -20px, 0); } }
}

/* ===================== Utilitaires ===================== */
/* Safety: la carte et la floating-btn restent au-dessus des d√©cors */
.auth-container.card.flat { position: relative; z-index: 2; }
.floating-btn { position: absolute; z-index: 99999; }

/* ================================================================== */
/* ==================  OVERRIDES TH√àME "BIBLIOTH√àQUE"  =============== */
/* (Ajout√©s en fin de fichier pour prendre le dessus proprement)      */
/* ================================================================== */

/* Palette adoucie (on r√©utilise tes variables) */
:root.theme-library-light{
  --card-bg:#ffffff;
}

/* Fond global plus clair, grain tr√®s l√©ger */
@media (min-width:1025px){
  body.auth-scene.theme-library-light{
    background:
      radial-gradient(1000px 700px at 15% 20%, rgba(96,165,250,.12), transparent 60%),
      radial-gradient(900px 600px at 85% 30%, rgba(168,85,247,.10), transparent 60%),
      linear-gradient(180deg, #fbfdff, #f4f8ff 40%, #fbfdff);
  }
  body.auth-scene.theme-library-light::after{ opacity:.03; }
  .bg-grid{ background-size:48px 48px; }
}

/* Carte plate biblioth√©caire : bord net, ombre discr√®te */
.theme-library-light .auth-container.card.flat{
  border:1px solid var(--gray-200);
  box-shadow:none;
  background:var(--card-bg);
}

/* M√©dia assombri plus l√©ger pour plus de lisibilit√© */
.theme-library-light .auth-media::before{
  background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.22));
}

/* Titres de formulaire lisibles (sans d√©grad√© trop flashy) */
.theme-library-light .form-title{
  background:none;
  -webkit-text-fill-color:initial;
  color:var(--gray-900);
}

/* Sous-titres & textes secondaires */
.theme-library-light .form-subtitle,
.theme-library-light .switch-ask{ color: var(--gray-600); }

/* Inputs : outline sobre + focus AA visible */
.theme-library-light .input-group input{
  border:1.5px solid var(--gray-200);
  box-shadow:none;
  height:3.25rem;
}
.theme-library-light .input-group input:focus{
  border-color:var(--primary-500);
  box-shadow:0 0 0 3px rgba(59,130,246,.18);
  transform:none;
}
.theme-library-light .input-group label{ color:var(--gray-500); }
.theme-library-light .input-group input:not(:placeholder-shown)+label,
.theme-library-light .input-group input:focus+label{
  color:var(--primary-700);
}

/* √âtats d‚Äôerreur plus calmes */
.theme-library-light .input-group input.invalid{
  border-color:var(--error-500);
  background:#fff;
  box-shadow:0 0 0 3px rgba(239,68,68,.12);
}

/* Boutons : primaire franc, Google sobre */
.theme-library-light .google-btn{
  border:1.5px solid var(--gray-200);
  box-shadow:none;
}
.theme-library-light .submit-btn{
  background:linear-gradient(0deg,var(--primary-600),var(--primary-600));
  box-shadow:none;
}
.theme-library-light .submit-btn:hover{
  background:linear-gradient(0deg,var(--primary-700),var(--primary-700));
  transform:none;
}

/* S√©parateurs/links discrets */
.theme-library-light .or-line{ color:var(--gray-500); }
.theme-library-light .link-strong, 
.theme-library-light .link{ color:var(--primary-700); }

/* Aide & messages info */
.theme-library-light .api-notice{
  border-color: var(--info-200);
  background: #eef7ff;
  color: #0b4d7a;
}

/* Barres force mot de passe */
.theme-library-light .bar{ height:.35rem; background:var(--gray-200); }
.theme-library-light .bar.on-1{ background:#f59e0b; }
.theme-library-light .bar.on-2{ background:#38bdf8; }
.theme-library-light .bar.on-3,
.theme-library-light .bar.on-4{ background:#22c55e; }

/* Bouton flottant : conserve l‚Äôeffet mais un peu moins glossy */
.theme-library-light .floating-btn{
  box-shadow:0 8px 18px rgba(59,130,246,.25);
}

/* Progression plus claire */
.theme-library-light .form-progress{ background:var(--gray-100); }
.theme-library-light .form-progress>span{ background: linear-gradient(90deg, var(--primary-300), var(--primary-600)); } 


/* === PATCH "plus bleu & plus clair" =============================== */
/* Colle ce bloc tout en bas du fichier pour override proprement.    */
/* Il conserve toutes tes animations/effets mais augmente la part de */
/* bleu et la luminosit√© globale.                                    */

/* Desktop : fond principal plus bleu/clair */
@media (min-width: 1025px) {
  body.auth-scene {
    background:
      radial-gradient(1200px 840px at 18% 22%, rgba(96,165,250,.26), transparent 62%),
      radial-gradient(1000px 760px at 82% 28%, rgba(59,130,246,.20), transparent 62%),
      radial-gradient(1100px 900px at 50% 92%, rgba(147,197,253,.22), transparent 68%),
      linear-gradient(180deg, #f7fbff, #ecf4ff 38%, #f8fbff 100%);
  }

  /* Vignette : plus claire pour √©claircir le centre */
  body.auth-scene::before {
    background:
      radial-gradient(1200px 620px at 50% -10%, rgba(255,255,255,.58), transparent 62%),
      radial-gradient(1200px 620px at 50% 110%, rgba(255,255,255,.52), transparent 62%),
      radial-gradient(1400px 900px at -10% 50%, rgba(173,216,255,.22), transparent 62%),
      radial-gradient(1400px 900px at 110% 50%, rgba(173,216,255,.18), transparent 62%),
      radial-gradient(82% 82% at 50% 50%, transparent 58%, rgba(15,23,42,.045) 100%);
  }

  /* Grain : un rien plus clair et discret */
  body.auth-scene::after { opacity: .035; }

  /* Blobs : dominantes bleues plus lumineuses */
  .bg-blob.b1 {
    background: radial-gradient(circle at 40% 40%, #60a5fa, transparent 70%);
    opacity: .22;
  }
  .bg-blob.b2 {
    background: radial-gradient(circle at 60% 60%, #93c5fd, transparent 70%);
    opacity: .20;
  }
  .bg-blob.b3 {
    background: radial-gradient(circle at 50% 60%, #bae6fd, transparent 70%);
    opacity: .20;
  }

  /* Grille de fond un chou√Øa plus visible mais douce */
  .bg-grid {
    background-image:
      linear-gradient(to right, rgba(15,23,42,.045) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(15,23,42,.045) 1px, transparent 1px);
    background-size: 44px 44px;
  }

  /* Variante DARK : garder lisible mais plus "blue-tinted" */
  @media (prefers-color-scheme: dark) {
    body.auth-scene {
      background:
        radial-gradient(1200px 820px at 18% 22%, rgba(96,165,250,.24), transparent 62%),
        radial-gradient(1000px 760px at 82% 28%, rgba(147,197,253,.22), transparent 62%),
        radial-gradient(1100px 900px at 50% 92%, rgba(59,130,246,.22), transparent 68%),
        linear-gradient(180deg, #0b1220, #0e1730 40%, #0b1220);
    }
    body.auth-scene::before {
      background:
        radial-gradient(1200px 620px at 50% -10%, rgba(255,255,255,.12), transparent 62%),
        radial-gradient(1200px 620px at 50% 110%, rgba(255,255,255,.10), transparent 62%),
        radial-gradient(1400px 900px at -10% 50%, rgba(147,197,253,.12), transparent 62%),
        radial-gradient(1400px 900px at 110% 50%, rgba(147,197,253,.10), transparent 62%),
        radial-gradient(80% 80% at 50% 50%, transparent 60%, rgba(0,0,0,.36) 100%);
    }
    .bg-grid {
      background-image:
        linear-gradient(to right, rgba(255,255,255,.065) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.065) 1px, transparent 1px);
    }
  }
}

/* Th√®me biblioth√®que clair : encore plus lumineux/bleut√© */
@media (min-width: 1025px) {
  body.auth-scene.theme-library-light{
    background:
      radial-gradient(1100px 760px at 18% 22%, rgba(96,165,250,.28), transparent 60%),
      radial-gradient(900px 640px at 82% 28%, rgba(147,197,253,.22), transparent 60%),
      linear-gradient(180deg, #f9fdff, #eef6ff 36%, #f9fdff 100%);
  }
  body.auth-scene.theme-library-light::after{ opacity:.028; }
}

/* Mobile/tablette (au cas o√π le d√©cor desktop est masqu√©) :
   adoucir le d√©grad√© de fond global bleu-p√¢le */
.bg-bleu-pale::before{
  background:
    radial-gradient(circle at 20% 50%, rgba(96,165,250,.32) 0%, transparent 52%),
    radial-gradient(circle at 82% 22%, rgba(147,197,253,.22) 0%, transparent 52%),
    radial-gradient(circle at 45% 80%, rgba(191,219,254,.22) 0%, transparent 52%);
}
/* ===== Global Error Banner ‚Äì styles ‚Äúen √©vidence‚Äù ===== */
.global-error-banner {
  position: sticky; top: 0; z-index: 100;
  display: flex; align-items: center; gap: 10px;
  padding: 12px 14px; margin-bottom: 12px; border-radius: 10px;
  background: #FEE2E2; color: #7F1D1D; border: 1px solid #FCA5A5;
  box-shadow: 0 4px 10px rgba(127,29,29,0.12);
  outline: none;
}

.global-error-banner.prominent {
  border-left: 8px solid #EF4444;     /* ‚úÖ barre rouge visible */
  font-weight: 700;
  filter: drop-shadow(0 6px 22px rgba(239,68,68,0.18));
}

.global-error-banner .gerr-icon {
  width: 24px; height: 24px; min-width: 24px;
  border-radius: 50%;
  background: #EF4444; color: #fff;
  display: inline-flex; align-items: center; justify-content: center;
  font-size: 14px; font-weight: 800;
}

.global-error-banner .gerr-text { flex: 1; font-size: 15px; line-height: 1.35; }

.global-error-banner .gerr-close {
  background: transparent; border: none; font-size: 20px; cursor: pointer;
  color: #7F1D1D; padding: 0 2px; line-height: 1;
}

/* Jauge de dur√©e (barre fine en bas) */
.global-error-banner .gerr-progress {
  position: absolute; left: 0; right: 0; bottom: 0; height: 3px;
  background: linear-gradient(90deg, #ef4444, #f59e0b);
  transform-origin: left; transform: scaleX(0);
  border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
}

/* Animation au montage / √† chaque nouveau message */
.gerr-animate {
  animation:
    gerr-shake 320ms cubic-bezier(.36,.07,.19,.97) both,
    gerr-glow 900ms ease-out forwards;
}
.gerr-animate .gerr-progress {
  animation: gerr-progress var(--banner-duration, 5000ms) linear forwards;
}

@keyframes gerr-shake {
  10%, 90% { transform: translateX(-1px); }
  20%, 80% { transform: translateX(2px); }
  30%, 50%, 70% { transform: translateX(-4px); }
  40%, 60% { transform: translateX(4px); }
}
@keyframes gerr-glow {
  0%   { box-shadow: 0 0 0 rgba(239,68,68,0); }
  30%  { box-shadow: 0 10px 28px rgba(239,68,68,0.28); }
  100% { box-shadow: 0 6px 22px rgba(239,68,68,0.18); }
}
@keyframes gerr-progress {
  from { transform: scaleX(1); }
  to   { transform: scaleX(0); }
}
